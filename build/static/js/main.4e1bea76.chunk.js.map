{"version":3,"sources":["services/phonebook.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newObject","post","put","id","delete","Filter","filter","handleChange","value","onChange","e","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","handleFormSubmit","onSubmit","type","Persons","persons","handleDelete","personsList","map","person","key","number","name","onClick","Notification","message","success","style","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","notif","setNotif","setSuccess","useEffect","phonebookService","new_persons","toLowerCase","includes","target","event","preventDefault","duplicate","length","window","confirm","updatePerson","returnedPerson","setTimeout","concat","console","log","catch","error","updatedPersons","p","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.4e1bea76.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst baseURL = \"http://localhost:3001/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject) => {\r\n    const request = axios.put(`${baseURL}/${newObject.id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react';\r\n\r\nconst Filter = ({ filter, handleChange }) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n            filter shown with <input value={filter} onChange={(e) => {handleChange(e)}} />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, handleNameChange, handleNumberChange, handleFormSubmit }) => {\r\n    return (\r\n        <form onSubmit={(e) => handleFormSubmit(e)}>\r\n        <div>\r\n          name: <input value={newName} onChange={(e) => {handleNameChange(e)}} />\r\n          <br />\r\n          number: <input value={newNumber} onChange={(e) => {handleNumberChange(e)}} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n    const personsList = persons.map(person => {\r\n        return (\r\n            <div key={person.number}>\r\n                {person.name} {person.number} \r\n                <button onClick={() => handleDelete(person)}>delete</button>\r\n            </div>\r\n        )\r\n    })\r\n    \r\n    return (\r\n        <div>\r\n            {personsList}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import React from 'react'\r\n\r\nconst Notification = ({ message, success }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    else {\r\n        const style = success === true ? \"success\" : \"error\"\r\n\r\n        return (\r\n            <div className={style}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\n\r\nimport phonebookService from './services/phonebook'\r\nimport Filter from \"./components/Filter\"\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notif, setNotif ] = useState(null)\r\n  const [ success, setSuccess ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    phonebookService.getAll()\r\n      .then(response => setPersons(response))\r\n  }, []);\r\n\r\n  // Create a copy of the persons array that can be filtered if a search term is inputted\r\n  let new_persons = [...persons]\r\n\r\n  if (filter) {\r\n    new_persons = new_persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())) \r\n  }\r\n\r\n  const handleFilterChange = (e) => setFilter(e.target.value)\r\n\r\n  const handleNameChange = (e) => setNewName(e.target.value)\r\n\r\n  const handleNumberChange = (e) => setNewNumber(e.target.value)\r\n\r\n  const handleFormSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    const duplicate = persons.filter(person => person.name === newName)\r\n\r\n    //console.log(\"DUP:\", duplicate)\r\n    if (duplicate.length) {\r\n      const choice = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n\r\n      if (choice === true) {\r\n        let updatePerson = duplicate[0]\r\n        updatePerson.number = newNumber\r\n        phonebookService.update(updatePerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== updatePerson.id ? person:  returnedPerson))\r\n\r\n            setNotif(`Updated ${returnedPerson.name}`)\r\n            setSuccess(true)\r\n  \r\n            setTimeout(() => {\r\n              setNotif(null)\r\n              setSuccess(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n    }\r\n\r\n    else {\r\n      const newPerson = { \r\n        name: newName, \r\n        number: newNumber \r\n      }\r\n\r\n      phonebookService.create(newPerson)\r\n        .then(response => {\r\n          setPersons(persons.concat(response))\r\n          console.log(\"Added: \", response)\r\n          setNotif(`Added ${response.name}`)\r\n          setSuccess(true)\r\n\r\n          setTimeout(() => {\r\n            setNotif(null)\r\n            setSuccess(null)\r\n          }, 5000)\r\n        })\r\n\r\n      setNewName(\"\")\r\n      setNewNumber(\"\")\r\n    }\r\n  }\r\n\r\n  const handleDelete = (person) => {\r\n   const result = window.confirm(`Delete ${person.name}`)\r\n\r\n    if (result === true) {\r\n      phonebookService.remove(person.id)\r\n        .then(response => console.log(\"DELETED\", person))\r\n        .catch(error => {\r\n          setNotif(`Information of ${person.name} has already been removed from the server`)\r\n          setSuccess(false)\r\n\r\n          setTimeout(() => {\r\n            setNotif(null)\r\n            setSuccess(null)\r\n          }, 5000)\r\n        })\r\n\r\n      const updatedPersons = persons.filter(p => p.id !== person.id)\r\n      setPersons(updatedPersons)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notif} success={success}/>\r\n\r\n      <Filter filter={filter} handleChange={handleFilterChange} />\r\n\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        handleFormSubmit={handleFormSubmit}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={new_persons} handleDelete={handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}